# μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™(Dependency Inversion Principle, DIP)κ³Ό μ¶”μƒν™”
##### Table of Contents
- [μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™](#μμ΅΄κ΄€κ³„-μ—­μ „-μ›μΉ™)  
- [μμ  μ½”λ“](#μμ -μ½”λ“)
- [μ¶”μƒν™”λ€ λ¬΄μ—‡μΌκΉ?](#μ¶”μƒν™”λ€-λ¬΄μ—‡μΌκΉ)
- [μ¶”μƒν™”μ λ©μ ](#μ¶”μƒν™”μ-λ©μ )
    - [μ–Όλ§λ‚ μ¶”μƒν™”ν•  κ²ƒμΈκ°€?](#π™‹-μ–Όλ§λ‚-μ¶”μƒν™”ν• -κ²ƒμΈκ°€)

<br>

### μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™
> κµ¬μ²΄ν™”κ°€ μ•„λ‹λΌ **μ¶”μƒν™”**μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤.   
> μ¦‰, κµ¬ν„ ν΄λμ¤(κµ¬ν„μ²΄)κ°€ μ•„λ‹λΌ μΈν„°νμ΄μ¤(μ—­ν• )μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤. 

μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™μ€ `μ μ—°ν•μ§€ λ»ν• μ½”λ“(Code Rigidity)`, `λ¨λ“ κ°„μ κ°•ν• κ²°ν•©(Tight Coupling of Modules)`μ„ ν”Όν•κΈ° μ„ν•΄ κ³ μ•λμ—λ‹¤.  
μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™μ ν•µμ‹¬ μ•„μ΄λ””μ–΄ μ•„λμ™€ κ°™λ‹¤. 

- **κ³ μμ¤€ λ¨λ“μ€ μ €μμ¤€ λ¨λ“μ κµ¬ν„μ— μ§μ ‘ μμ΅΄ν•΄μ„λ” μ• λλ‹¤. μ €μμ¤€ λ¨λ“μ΄ `interface`μ™€ κ°™μ€ κ³ μμ¤€ λ¨λ“μ—μ„ μ •μν• μ¶”μƒ νƒ€μ…μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤.**
- **μ¶”μƒν™”λ” μ„Έλ¶€ μ‚¬ν•­μ— μμ΅΄ν•΄μ„λ” μ• λλ©°, μ„Έλ¶€ μ‚¬ν•­(concrete implementations)μ€ μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤.**

<br>

> #### κ³ μμ¤€ λ¨λ“κ³Ό μ €μμ¤€ λ¨λ“μ΄λ€? 
> - <small>`κ³ μμ¤€ λ¨λ“(High-level Module)`: μλ―Έ μλ” λ‹¨μΌ κΈ°λ¥μ„ μ κ³µν•λ” λ¨λ“</small> 
> - <small>`μ €μμ¤€ λ¨λ“(low-level Module)`: κ³ μμ¤€ λ¨λ“μ κΈ°λ¥μ„ κµ¬ν„ν•κΈ° μ„ν•΄ ν•„μ”ν• ν•μ„ κΈ°λ¥μ μ‹¤μ  κµ¬ν„</small> 

### μμ  μ½”λ“ 
> `μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™`μ„ μ„λ°ν•λ” λ¨λ“ κ°„μ κ°•ν• κ²°ν•©(μμ΅΄μ„±)μ„ κ°€μ§„ μ½”λ“λ¥Ό κ°μ„ ν•λ” μμ λ¥Ό μ‚΄ν΄λ³΄μ. 

#### As-Is
```js
// LightBulb ν΄λμ¤
class LightBulb {
    turnOn() {
        console.log('Light bulb turned on.');
    }
}

// Switch ν΄λμ¤
class Switch {
    constructor() {
        this.bulb = new LightBulb();
    }

    operate() {
        this.bulb.turnOn();
    }
}

// Switch μΈμ¤ν„΄μ¤ μƒμ„± λ° λ™μ‘
const switchButton = new Switch();
switchButton.operate();
```
ν•΄λ‹Ή μ½”λ“λ¥Ό μ‚΄ν΄λ³΄λ©΄, `Switch` ν΄λμ¤κ°€ `LightBulb` ν΄λμ¤λ¥Ό μ§μ ‘ μμ΅΄ν•λ©° λ¨λ“ κ°„μ κ°•ν• κ²°ν•©μ΄ λ°μƒν•κ³  μλ” μμ‹μ΄λ‹¤.   
μ΄ν›„ `LightBulb` λ¨λ“μ΄ μ•„λ‹ λ‹¤λ¥Έ λ¨λ“λ΅ κµμ²΄κ°€ ν•„μ”ν•  κ²½μ° `Switch` ν΄λμ¤μ λ‚΄λ¶€ λ΅μ§λ„ ν•¨κ» λ³€κ²½λμ–΄μ•Ό ν•λ‹¤λ” λ¬Έμ κ°€ λ°μƒν•λ‹¤. 

μ°λ¦¬κ°€ μ›ν•λ” κ²ƒμ€ μ €μμ¤€ λ¨λ“(`LightBulb`)μ΄ λ³€κ²½λλ”λΌλ„ κ³ μμ¤€ λ¨λ“(`Switch`)μ€ λ³€κ²½λμ§€ μ•λ” κ²ƒμ΄λ‹¤.  
μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™(DIP)μ„ μ μ©ν•μ—¬ κ°μ„ ν• μ½”λ“λ” μ•„λμ™€ κ°™λ‹¤. 

#### To-Be
```js
// μΈν„°νμ΄μ¤ μ •μ
class Switchable {
    turnOn() {
        // κ³µν†µμ μΈ μ½”λ“
    }
}

// LightBulb ν΄λμ¤κ°€ Switchable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„
class LightBulb extends Switchable {
    turnOn() {
        console.log('Light bulb turned on.');
    }
}

// Switch ν΄λμ¤
class Switch {
    constructor(device) {
        this.device = device;
    }

    operate() {
        this.device.turnOn();
    }
}

// LightBulb μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•μ—¬ Switch ν΄λμ¤μ— μ£Όμ…
const lightBulb = new LightBulb();
const switchButton = new Switch(lightBulb);

// Switch λ²„νΌ λ™μ‘
switchButton.operate();
```

> μμ΅΄ κ΄€κ³„λ¥Ό λ§Ίμ„ λ•λ” **μμ‹ λ³΄λ‹¤ λ³€ν™”ν•κΈ° μ‰¬μ΄ κ²ƒμ„ μμ΅΄ν•΄μ„λ” μ•λκ³ , κ±°μ λ³€ν™”κ°€ μ—†λ” κ°λ…μ— μμ΅΄ν•΄μ•Όν•λ‹¤.** 

λ³€κ²½λ μ½”λ“λ¥Ό μ‚΄ν΄λ³΄λ©΄, μ΄μ „κ³Ό λ‹¬λ¦¬ `Switch` ν΄λμ¤λ” `LightBulb` λ€μ‹  μ¶”μƒν™”λ `Switchable` μΈν„°νμ΄μ¤μ— μμ΅΄ν•κ³  μλ‹¤λ” μ μ„ ν™•μΈν•  μ μλ‹¤.   
μ΄λ¥Ό ν†µν•΄ μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™μ **κ³ μμ¤€ λ¨λ“μ€ μ €μμ¤€ λ¨λ“μ κµ¬ν„μ— μ§μ ‘ μμ΅΄ν•΄μ„λ” μ• λλ‹¤...** λ¥Ό λ§μ΅±ν•κ² λμ—λ‹¤.  

κ³ μμ¤€μ λ¨λ“(`Switch`)μ™€ μ €μμ¤€μ λ¨λ“(`LightBulb`) λ‘ λ¨λ“ κ°„μ λμ¨ν• κ²°ν•©λ„λ¥Ό κ°€μ§€λ„λ΅ κ°μ„ λμ—μΌλ©°
μ΄ν›„ `LightBulb`κ°€ μ•„λ‹ λ‹¤λ¥Έ ν•μ„ λ¨λ“λ΅μ κµμ²΄κ°€ ν•„μ”ν•  κ²½μ°μ—λ„ `Switch` λ‚΄λ¶€ λ΅μ§μ λ³€κ²½μ΄ ν•„μ”ν•μ§€ μ•μΌλ©° λ³€ν™”μ—λ„ μ μ—°ν•κ² λ€μ‘ν•  μ μλ‹¤.   

<br>

### μ¶”μƒν™”λ€ λ¬΄μ—‡μΌκΉ?
> λ³µμ΅ν• λ‚΄λ¶€ ν”„λ΅μ„Έμ¤μ λ΅μ§μ„ κ°μ¶”κ³ , κ°„κ²°ν•κ³  μ§κ΄€μ μΈ `μΈν„°νμ΄μ¤`λ¥Ό μ κ³µν•λ” κ²ƒ

ν”„λ΅κ·Έλλ°μ—μ„ `μ¶”μƒν™”(Abstraction)`λ” μ°λ¦¬κ°€ λ‹¤λ£¨κΈ° μ–΄λ ¤μ΄ λ³µμ΅ν• λ€μƒμ„ **μλ„μ μΌλ΅ κ°μ¶°** μ‚¬μ©μ λλ” λ‹¤λ¥Έ κ°λ°μμ—κ²λ” λ…λ£ν•κ³  κ°„κ²°ν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ” μ¤‘μ”ν• λ„κµ¬μ΄λ‹¤. μ μ¶”μƒν™”λ κΈ°λ¥μ΄λ‚ λ¨λ“μ€ κµ¬μ²΄μ μΈ κµ¬ν„ μ„Έλ¶€ μ‚¬ν•­μ„ λ°λΌλ„ μ‰½κ² ν™μ©ν•  μ μλ„λ΅ λ§λ“¤μ–΄μ¤€λ‹¤. 



### μ¶”μƒν™”μ λ©μ  
μ¶”μƒν™”λ” λ‹¨μν• κ°€λ…μ„± ν–¥μƒ μ΄μƒμ λ©μ μ„ λ‹¬μ„±ν•  μ μλ„λ΅ λ§λ“¤μ–΄μ¤€λ‹¤.  
λ³µμ΅μ„±μ„ μ¨κΉ€μΌλ΅μ¨ μ½”λ“μ `κ°€λ…μ„±`μ„ ν–¥μƒμ‹ν‚¤κ³  `μ¬μ‚¬μ©` λ° `μ μ§€λ³΄μμ„±`μ„ λ†’μ—¬ κ°λ° κ³Όμ •μ„ λ”μ± ν¨μ¨μ μΌλ΅ λ§λ“¤ λΏλ§ μ•„λ‹λΌ  
λ¨λ“ν™”λ¥Ό ν†µν•΄ `λ…λ¦½μ„±`μ„ λ†’μ—¬ νΉμ • λ¨λ“μ—μ„ λ°μƒν• λ¬Έμ κ°€ μ „μ²΄ μ‹μ¤ν…μ— μν–¥μ„ λ―ΈμΉλ” κ²ƒμ„ λ§‰μ„ μ μλ‹¤. 

- λ‹¨μν™” 
- μ¬μ‚¬μ©μ„± μ¦κ°€
- μ μ—°μ„± λ° ν™•μ¥μ„± (μ μ§€λ³΄μ)
- μ‹μ¤ν… λ¶„λ¦¬ λ° λ¨λ“ν™”
- λ…λ¦½μ„± μ¦κ°€


### μ–Όλ§λ‚ μ¶”μƒν™”ν•  κ²ƒμΈκ°€?
μ¶”μƒν™”μ— **μ •λ‹µ** μ΄λΌλ” κ²ƒμ€ μ—†μ§€λ§, **μƒν™©**κ³Ό **λ©μ **μ— λ”°λΌ λ‹¤λ¥΄κ² μ μ©λμ–΄μ•Ό ν•λ‹¤.  
μƒν™©μ— λ”°λΌ ν•„μ”ν• λ§νΌ λ…Έμ¶μ‹ν‚¤κΈ° μ„ν•΄μ„ **μ¶”μƒν™” μμ¤€(level of abstraction)** μ„ μ΅°μ •ν•λ” κ³Όμ •μ΄ ν•„μ”ν•λ‹¤.
   
λ§λ¶™μ—¬ `μλ»λ μ¶”μƒν™”λ³΄λ‹¤λ” μ¤‘λ³µμ΄ λ‚«λ‹¤.`λ” λ§μ²λΌ κ³Όλ„ν• μ¶”μƒν™”λ” μ¤νλ ¤ μ½”λ“ μ† λ‚μ λƒ„μƒλ¥Ό λ§λ“λ” μ£Όλ²”μΌμ§€λ„ λ¨λ¥΄κ² λ‹¤.  
κ·Έλ ‡κΈ°μ— λ°λ“μ‹ μ¶”μƒν™”μ— μ•μ„, **μ„±κΈ‰ν• μ¶”μƒν™”**λ” μ•„λ‹μ§€? **μƒν™©**κ³Ό **λ©μ **μ— λ”°λΌ μ μ ν•κ² μ΅°μ •λμ—λ”μ§€λ¥Ό μ—Όλ‘μ— λ‘μ–΄μ•Ό ν•λ‹¤. 
